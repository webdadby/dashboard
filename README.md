# Dashboard - Система управления персоналом и расчета зарплаты

## Общее описание

Система Dashboard предназначена для управления персоналом, расчета заработной платы, отслеживания KPI сотрудников и управления отпусками. Она включает в себя несколько модулей, интегрированных в единую платформу.

## Основные модули

### Управление сотрудниками

Модуль позволяет:
- Добавлять новых сотрудников
- Редактировать информацию о существующих сотрудниках
- Отмечать увольнение сотрудников
- Управлять статусами сотрудников:
  - **Удаленный сотрудник** - отметка для сотрудников, работающих удаленно
  - **Не основное место работы** - отметка для сотрудников, для которых компания не является основным местом работы
  - **Молодой специалист** - отметка для молодых специалистов (выпускников)

### Расчет заработной платы

Модуль для расчета и учета заработной платы:
- Расчет оклада на основе ставки и минимальной зарплаты
- Учет отработанных дней
- Расчет налогов (подоходный налог, пенсионные отчисления)
- Учет бонусов и премий, включая премии по KPI
- Расчет отпускных и больничных
- Формирование расчетных листов

### KPI (Ключевые показатели эффективности)

Модуль для управления показателями эффективности:
- Создание различных типов метрик (ступенчатые, с умножением, процент от суммы)
- Назначение метрик сотрудникам
- Ввод и отслеживание результатов
- Автоматический расчет премий на основе достигнутых результатов
- Отображение итоговой суммы премии в расчетном листе (информационно)

### Управление отпусками

Модуль для управления отпусками:
- Расчет отпускных дней
- Подача и одобрение заявок на отпуск
- Отслеживание баланса отпускных дней
- Расчет отпускных выплат

## Технический стек

- **Frontend**: Next.js, React, TypeScript, Tailwind CSS, shadcn/ui
- **Backend**: Supabase (PostgreSQL, Auth, Storage)
- **Дополнительные библиотеки**: date-fns, zod, react-hook-form, lucide-react

## Последние обновления

### Июнь 2025
- Добавлены три новых поля статуса для сотрудников:
  - Удаленный сотрудник (is_remote)
  - Не основное место работы (is_secondary_job)
  - Молодой специалист (is_young_specialist)
- Добавлено отображение итоговой суммы премии по KPI в расчетном листе (информационно)

## Структура проекта

- `/app` - страницы приложения (Next.js App Router)
- `/components` - React-компоненты
  - `/kpi` - компоненты для модуля KPI
  - `/payrolls` - компоненты для расчета зарплаты
  - `/vacations` - компоненты для управления отпусками
  - `/ui` - общие UI-компоненты
- `/lib` - вспомогательные функции и утилиты
  - `/supabase` - клиентский API для работы с Supabase
- `/public` - статические файлы
- `/supabase` - миграции и конфигурация Supabase

## Установка и запуск

```bash
# Установка зависимостей
npm install

# Запуск в режиме разработки
npm run dev

# Сборка для продакшена
npm run build

# Запуск продакшен-версии
npm start
```

## База данных

Проект использует Supabase в качестве бэкенда. Миграции базы данных находятся в директории `/supabase/migrations`.

Для применения миграций используйте Supabase CLI:

```bash
supabase migration up
```
